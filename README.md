# Тестовое задание Potgress
Реализовать консольное приложение, которое будет устанавливать PostgreSQL на удаленный хост, настраивать и запускать.

Вводные: 2 сервера, один на Debian, второй на CentOS (AlmaLinux). На обоих серверах пользователю root подложен один и тот же открытый ssh ключ. У исполнителя есть закрытая часть ключа, с помощью которой он подключается.

## Алгоритм работы

1. Bash скрипт
  * Принимает данные для входа на сервер
  * Формирование Inventory.ini
  * Запуск Ansible role "Select server"
  * запуск Ansible role "Postgres install"  
2. Ansible role "Select server" 
  * Установка подключения
  * Сбор метрик
  * Выявление лучшего сервера
  * Формирование Inventory.ini для настройки postgres
3. Ansible role "PostgreSQL"
  * Установка подключения
  * Установка PostgreSQL
  * Настройка PostgreSQL
  * Проверка подлючения
    
## Системные требования для запуска

OS: Linux
Bash
Ansible

## Запуск скпипта

Для запуска скопировать репозиторий. Затем сделать скрипт исполняемым. Запустить скрипт. 

```bash
git clone && cd "$(basename "$_" .git)"
chmod +x up.sh
./up.sh ip-server-1, ip-server-2
```

